digraph erd {
    fontname = "Helvetica"
    fontsize = 8
    splines = true
    node [
        fontname = "Helvetica"
        fontsize = 8
        shape = "plaintext"
    ]
    edge [
        fontname = "Helvetica"
        fontsize = 8
    ]
    {% for model in graph.models %}
        "{{ model.name }}"
        [label=<
            <TABLE BGCOLOR="{{ model.bg_color }}" BORDER="0" CELLBORDER="0" CELLSPACING="0">
            <TR><TD COLSPAN="2" CELLPADDING="4" ALIGN="CENTER" BGCOLOR="{{ model.main_color }}">
            <FONT FACE="Helvetica Bold" COLOR="white">
            {{ model.name }}
            </FONT></TD></TR>
            {% for field in model.fields %}
            <TR><TD ALIGN="LEFT" BORDER="0" PORT="{{ field.name }}">
            <FONT COLOR="{{ field.color }}" FACE="Helvetica">{{ field.name }}</FONT>
            </TD><TD ALIGN="LEFT">
            <FONT COLOR="{{ field.color }}" FACE="Helvetica">{{ field.type }}</FONT>
            </TD></TR>'''
            {% endfor %}
            </TABLE>
        >]
    {% endfor %}
    {% for relation in graph.relations %}
        "{{ relation.model }}":"{{ relation.field }}" -> "{{ relation.target_model }}":"{{ relation.target_field }}"
            [arrowhead=empty, arrowtail=none, dir=both];
    {% endfor %}
    {{ relations }}
}
